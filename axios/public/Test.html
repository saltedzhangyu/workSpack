<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<button class="a">get</button>
<button>post</button>
<button>put</button>
<button>delete</button>
</body>
<script src="https://cdn.bootcdn.net/ajax/libs/axios/0.21.1/axios.min.js"></script>
<script src="../src/js/jquery.js"></script>
<script>

    axios.defaults.baseURL = "http://localhost:3000"

    axios.interceptors.request.use(function (config) {
        console.log("请求拦截器成功")
        return config
    }, function (error) {
        console.log("请求拦截器失败")
        return Promise.reject(error)
    })

    axios.interceptors.response.use(function (config) {
        console.log("响应拦截器成功")
        return config
    }, function (error) {
        console.log("响应拦截器失败")
        return Promise.reject(error)
    })

    const get = axios.create({
        method: "get",
        timeout: 2000
    })

    $("button:eq(0)").click(function () {
        get({
            url: "/posts"
        }).then(value => {
            console.log(value)
        })
    })

    $("button:eq(1)").click(function () {
        axios({
            method: "Post",
            url: "/posts",
            data: {
                title: "123",
                author: "test"
            }
        }).then(value => {
            console.log(value)
        })
    })

    $("button:eq(2)").click(function () {
        axios({
            method: "Put",
            url: "/posts/2",
            data: {
                title: "321",
                author: "tset"
            }
        }).then(value => {
            console.log(value)
        })
    })

    $("button:eq(3)").click(function () {
        axios({
            method: "Delete",
            url: "/posts/4"
        }).then(value => {
            console.log(value)
        })
    })

</script>
</html>